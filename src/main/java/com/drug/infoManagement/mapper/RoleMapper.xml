<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "mybatis-3-mapper.dtd" >
<mapper namespace="com.drug.infoManagement.mapper.RoleMapper">

	<select id="queryRoleIdName"  resultType="BranchRole">
		SELECT roleId,roleName FROM btanch_role WHERE visibles = '1';
	</select>
	
	<select id="queryCountRole" resultType="int">
		SELECT COUNT(*) FROM btanch_role
	</select>
	
	<select id="queryAllRole" parameterType="map" resultType="BranchRole">
		SELECT * FROM btanch_role WHERE visibles = 1 LIMIT #{page},#{limit}
	</select>
	
	<insert id="addRole" parameterType="BranchRole" >
		INSERT INTO btanch_role VALUES(NULL,#{roleName},#{roleDescribe},DEFAULT,NULL,NULL)
	</insert>
	
	<select id="queryRoleName" parameterType="String" resultType="BranchRole">
		SELECT * FROM btanch_role WHERE roleName = #{roleName}
	</select>
	
	<update id="updatevisibles" parameterType="BranchRole">
		UPDATE btanch_role SET visibles = '1' WHERE roleName = #{roleName}
	</update>
	
	<update id="delRole" parameterType="String">
		UPDATE btanch_role SET visibles = '0' WHERE roleId = #{roleId}
	</update>
	
	<update id="delEmpRole"  parameterType="String">
		UPDATE btanch_employee SET roleId = '0' WHERE roleId = #{roleId}
	</update>
	
	<delete id="delRoleModuleRole"  parameterType="String">
		DELETE FROM btanch_roleModule WHERE roleId =#{roleId}
	</delete>
	
	<update id="updateRoleById" parameterType="BranchRole">
		UPDATE btanch_role SET roleName = #{roleName},roleDescribe=#{roleDescribe} WHERE roleId = #{roleId}
	</update>
</mapper>
